If you are a Windows user and want to build this you will need Mingw or
Mingw-w64.

First of all in the Retro Graphics Toolkit directory create a folder called lua
or luawin if you are compiling for Windows. This folder shall the latest
version of Lua. The folder should not contain a folder called something to the
effect of lua/lua-version-number.

Note the only reason for creating a separate folder for Mingw cross compiling
is to accommodate for the fact that I do all my development on GNU/Linux and
have a separate instillation of GCC as a cross compiler. This allows me to
quickly test the Windows build and *Unix build simultaneously.

Extract the latest version of Lua in the newly created folder.

Now edit the makefile in src. Edit the line that starts with CC=gcc and change
it to: CC=g++

On the line that starts with CFLAGS= remove -DLUA_COMPAT_5_2

If you are using a cross compiler make sure to take into account it's prefix
also you will need to modify the AR and RANLIB variables if such is the case.

Also if you are building on Windows you must replace this line in the Makefile
	"AR=$(CC) -shared -o" "RANLIB=strip --strip-unneeded" \
with
	"AR=$(CC) -shared -static-libgcc -static-libstdc++ -o" "RANLIB=strip --strip-all" \

Lua can be build using c++ which is what we are doing this is to take advantage
of GCC's support for zero cost exception handling using throw.

The reason Lua is built even though many distributions already provide Lua is
so that the latest version is used and so that this version which may be built
with a different configuration does not overwrite your system's instillation of
Lua.

Now run make Linux or make Mingw depending on your system platform.
DO NOT RUN MAKE INSTALL.

WINDOWS ONLY BEGIN

This step is only for Windows users. On other operating system, the
distribution should already have provided FLTK.

You will now need to build FLTK to do this download fltk-1.3.3 and extract it
into the Retro Graphics Toolkit project folder and build it using either
./configure if you are on Windows or if you are cross compiling you need to
something like this:

RANLIB=~/mingw/bin/x86_64-w64-mingw32-gcc-ranlib NM=~/mingw/bin/x86_64-w64-mingw32-gcc-nm AR=~/mingw/bin/x86_64-w64-mingw32-gcc-ar CFLAGS="-O2 -flto -fuse-linker-plugin -m32" CXXFLAGS=$CFLAGS LDFLAGS=$CFLAGS ./configure --host=x86_64-w64-mingw32 --build=x86_64-unknown-linux-gnu

Regardless of how ./configure is ran you will just need to run make and you are done building FLTK.

END OF WINDOWS ONLY SECTION

Now on Linux run make or on Windows run make -f make_win note that you may need
to modify the CXX and CC variables in make_win.

You should now have a compiled version of Retro Graphics Toolkit.
